<!-- by John Manoogian III / jm3 -->
<html>
  <head>
    <title>Chrome Relic - Edit API Key</title>
    <link href="theme.css" rel="stylesheet" type="text/css"> 

    <script type="text/javascript">

      // Saves options to localStorage.
      function save_options() {
        var newrelic_api_key = document.getElementById("newrelic_api_key").value;
        localStorage["newrelic_api_key"] = newrelic_api_key;
        window.location = "hud.html";
      }

      function restore_options() {
        var newrelic_api_key = localStorage["newrelic_api_key"];
        if (!newrelic_api_key)
          return;
        var input_field = document.getElementById("newrelic_api_key");
        input_field.value = newrelic_api_key;
      }

    </script>

  </head>

  <body onload="restore_options()" id="config">
    <form>
      <label>
        Enter your NewRelic API key:
        <input id="newrelic_api_key" size="40" />
      </label>
      <button onclick="save_options()">Update API key</button>

      <div>
        <label>
          Select primary app:
          <div>
            <select disabled="true">
              <option>
              - Choose One -
              </option>
            </select>
          </div>
        </label>
        <div>
        Your primary app's Apdex will be displayed over the ChromeRelic icon.
        </div>
      </div>
    </form>

    <a href="hud.html">&laquo; back</a> 

    <div id="fine-print">
      (note: if the window flashes after entering your key, click
      <b>Update API Key</b> then click the Chrome Relic icon and
      Chrome will reset itself. This appears to be a weird Chrome bug.)
    </div>

  </body>
</html>

